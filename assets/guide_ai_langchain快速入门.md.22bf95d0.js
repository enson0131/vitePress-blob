import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.b6910bb2.js";const o="/vitePress-blob/assets/1.111604b1.png",p="/vitePress-blob/assets/2.3cc0a64c.png",e="/vitePress-blob/assets/3.6ba488f9.png",F=JSON.parse('{"title":"LangChain å¿«é€Ÿå…¥é—¨","description":"","frontmatter":{},"headers":[],"relativePath":"guide/ai/langchainå¿«é€Ÿå…¥é—¨.md","filePath":"guide/ai/langchainå¿«é€Ÿå…¥é—¨.md","lastUpdated":1718099618000}'),t={name:"guide/ai/langchainå¿«é€Ÿå…¥é—¨.md"},c=l(`<h1 id="langchain-å¿«é€Ÿå…¥é—¨" tabindex="-1">LangChain å¿«é€Ÿå…¥é—¨ <a class="header-anchor" href="#langchain-å¿«é€Ÿå…¥é—¨" aria-label="Permalink to &quot;LangChain å¿«é€Ÿå…¥é—¨&quot;">â€‹</a></h1><h2 id="å®‰è£…" tabindex="-1">å®‰è£… <a class="header-anchor" href="#å®‰è£…" aria-label="Permalink to &quot;å®‰è£…&quot;">â€‹</a></h2><p>è¦å®‰è£…è¿™ä¸ªåŒ…ï¼Œä½ å¯ä»¥ä½¿ç”¨ npm æˆ– yarnï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">langchain</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">langchain</span></span></code></pre></div><h2 id="å®‰è£…ç¯å¢ƒ" tabindex="-1">å®‰è£…ç¯å¢ƒ <a class="header-anchor" href="#å®‰è£…ç¯å¢ƒ" aria-label="Permalink to &quot;å®‰è£…ç¯å¢ƒ&quot;">â€‹</a></h2><p>node &gt;= 18.x</p><h2 id="ä»€ä¹ˆæ˜¯-lcel-langchain-expression-language" tabindex="-1">ä»€ä¹ˆæ˜¯ LCEL (LangChain Expression Language) <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯-lcel-langchain-expression-language" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯ LCEL (LangChain Expression Language)&quot;">â€‹</a></h2><p>LangChain Expression Language is a way to create arbitrary custom chains. It is built on the <a href="https://v02.api.js.langchain.com/classes/langchain_core_runnables.Runnable.html" target="_blank" rel="noreferrer">Runnable</a> protocol.</p><p>LCEL æ— è®ºæ˜¯ python è¿˜æ˜¯ js ç‰ˆæœ¬éƒ½åœ¨ä¸»æ¨çš„æ–°è®¾è®¡ï¼Œèƒ½åˆ›å»ºè‡ªå®šä¹‰çš„é“¾ï¼Œå®ƒæ˜¯åŸºäº <a href="https://v02.api.js.langchain.com/classes/langchain_core_runnables.Runnable.html" target="_blank" rel="noreferrer">Runnable</a> åè®®æ„å»ºçš„ã€‚</p><h2 id="é€šè¿‡-langchain-åŠ è½½å¤§æ¨¡å‹" tabindex="-1">é€šè¿‡ LangChain åŠ è½½å¤§æ¨¡å‹ <a class="header-anchor" href="#é€šè¿‡-langchain-åŠ è½½å¤§æ¨¡å‹" aria-label="Permalink to &quot;é€šè¿‡ LangChain åŠ è½½å¤§æ¨¡å‹&quot;">â€‹</a></h2><h3 id="æœ¬åœ°å¤§æ¨¡å‹" tabindex="-1">æœ¬åœ°å¤§æ¨¡å‹ <a class="header-anchor" href="#æœ¬åœ°å¤§æ¨¡å‹" aria-label="Permalink to &quot;æœ¬åœ°å¤§æ¨¡å‹&quot;">â€‹</a></h3><p>åœ¨ mac å¹³å°ä¸‹ï¼Œæ¨èç”¨ <a href="https://ollama.com/" target="_blank" rel="noreferrer">ollama</a>ï¼Œä½¿ç”¨ç®€å•ï¼Œä¸‹è½½å¥½æ¨¡å‹åï¼Œç‚¹å‡»è¿™ä¸ª appï¼Œå°±ä¼šè‡ªåŠ¨åœ¨ <a href="http://localhost:11434" target="_blank" rel="noreferrer">http://localhost:11434</a> èµ·ä¸€ä¸ª llm çš„æœåŠ¡ã€‚</p><h4 id="å®‰è£…-llama3-æ¨¡å‹" tabindex="-1">å®‰è£… llama3 æ¨¡å‹ <a class="header-anchor" href="#å®‰è£…-llama3-æ¨¡å‹" aria-label="Permalink to &quot;å®‰è£… llama3 æ¨¡å‹&quot;">â€‹</a></h4><p>å¯ä»¥é€šè¿‡ <code>ollama list</code> æŸ¥çœ‹æ‰€æœ‰çš„æ¨¡å‹ï¼Œç„¶åé€šè¿‡ <code>ollama pull</code> å®‰è£…æ¨¡å‹ã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># æ¨¡å‹åˆ—è¡¨å‚è€ƒï¼šhttps://ollama.com/library</span></span>
<span class="line"><span style="color:#B392F0;">ollama</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pull</span><span style="color:#E1E4E8;"> [model]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># æ¨¡å‹åˆ—è¡¨å‚è€ƒï¼šhttps://ollama.com/library</span></span>
<span class="line"><span style="color:#6F42C1;">ollama</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pull</span><span style="color:#24292E;"> [model]</span></span></code></pre></div><p>ç›®å‰ä¸‹è½½äº†ä¸€ä¸ª ollama3 çš„æ¨¡å‹</p><p><img src="`+o+`" alt="åˆå§‹çŠ¶æ€å›¾"></p><p>å½“æˆ‘ä»¬åœ¨æœ¬åœ°å¯åŠ¨äº†ä¸€ä¸ªæ¨¡å‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ LangChain æ¥è°ƒç”¨è¿™ä¸ªæ¨¡å‹äº†ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Ollama } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@langchain/community/llms/ollama&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ollama</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Ollama</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  baseUrl: </span><span style="color:#9ECBFF;">&quot;http://localhost:11434&quot;</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">  model: </span><span style="color:#9ECBFF;">&quot;llama3&quot;</span><span style="color:#E1E4E8;">, </span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">ollama.</span><span style="color:#B392F0;">invoke</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;ç”¨ä¸­æ–‡è®²ä¸€ä¸ªç¬‘è¯&quot;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;res&#39;</span><span style="color:#E1E4E8;">, res);</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Ollama } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@langchain/community/llms/ollama&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ollama</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Ollama</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  baseUrl: </span><span style="color:#032F62;">&quot;http://localhost:11434&quot;</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">  model: </span><span style="color:#032F62;">&quot;llama3&quot;</span><span style="color:#24292E;">, </span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">ollama.</span><span style="color:#6F42C1;">invoke</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;ç”¨ä¸­æ–‡è®²ä¸€ä¸ªç¬‘è¯&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">((</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;res&#39;</span><span style="color:#24292E;">, res);</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><p>è¾“å‡ºç»“æœ ğŸ‘‡</p><p><img src="`+p+`" alt="è¾“å‡ºç»“æœ"></p><h3 id="äº‘ç«¯å¤§æ¨¡å‹" tabindex="-1">äº‘ç«¯å¤§æ¨¡å‹ <a class="header-anchor" href="#äº‘ç«¯å¤§æ¨¡å‹" aria-label="Permalink to &quot;äº‘ç«¯å¤§æ¨¡å‹&quot;">â€‹</a></h3><h4 id="openai" tabindex="-1">OpenAI <a class="header-anchor" href="#openai" aria-label="Permalink to &quot;OpenAI&quot;">â€‹</a></h4><p>åœ¨è°ƒç”¨ OpenAI ä¹‹å‰éœ€è¦å…ˆç”³è¯·ä¸€ä¸ª API Keyï¼Œç„¶åå°† API Key è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ <code>OPENAI_API_KEY</code>ã€‚</p><p>ç„¶åé€šè¿‡ langchain çš„ OpenAI ç±»æ¥è°ƒç”¨ OpenAI çš„æ¨¡å‹ã€‚</p><p>è°ƒç”¨ä¹‹å‰éœ€è¦å…ˆ å®‰è£… <code>@langchain/openai</code> åŒ…ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">//</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">å®‰è£…</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">openai</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">åŒ…</span></span>
<span class="line"><span style="color:#B392F0;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@langchain/openai</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">//</span><span style="color:#24292E;"> </span><span style="color:#032F62;">å®‰è£…</span><span style="color:#24292E;"> </span><span style="color:#032F62;">openai</span><span style="color:#24292E;"> </span><span style="color:#032F62;">åŒ…</span></span>
<span class="line"><span style="color:#6F42C1;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@langchain/openai</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { OpenAI } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@langchain/openai&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">model</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">OpenAI</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  model: </span><span style="color:#9ECBFF;">&quot;gpt-3.5-turbo-instruct&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// Defaults to &quot;gpt-3.5-turbo-instruct&quot; if no model provided.</span></span>
<span class="line"><span style="color:#E1E4E8;">  temperature: </span><span style="color:#79B8FF;">0.9</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  apiKey: </span><span style="color:#9ECBFF;">&quot;YOUR-API-KEY&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// In Node.js defaults to p<wbr>rocess.env.OPENAI_API_KEY</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> model.</span><span style="color:#B392F0;">invoke</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;What would be a good company name a company that makes colorful socks?&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">({ res });</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { OpenAI } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@langchain/openai&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">model</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">OpenAI</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  model: </span><span style="color:#032F62;">&quot;gpt-3.5-turbo-instruct&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// Defaults to &quot;gpt-3.5-turbo-instruct&quot; if no model provided.</span></span>
<span class="line"><span style="color:#24292E;">  temperature: </span><span style="color:#005CC5;">0.9</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  apiKey: </span><span style="color:#032F62;">&quot;YOUR-API-KEY&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// In Node.js defaults to p<wbr>rocess.env.OPENAI_API_KEY</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> model.</span><span style="color:#6F42C1;">invoke</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;What would be a good company name a company that makes colorful socks?&quot;</span></span>
<span class="line"><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">({ res });</span></span></code></pre></div><h4 id="ç™¾åº¦å¤§æ¨¡å‹" tabindex="-1">ç™¾åº¦å¤§æ¨¡å‹ <a class="header-anchor" href="#ç™¾åº¦å¤§æ¨¡å‹" aria-label="Permalink to &quot;ç™¾åº¦å¤§æ¨¡å‹&quot;">â€‹</a></h4><p>å› ä¸º OpenAI åœ¨å›½å†…æ¯”è¾ƒéš¾è®¿é—®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹å¤§æ¨¡å‹æ¥é¿è§„è®¿é—®æ…¢çš„é—®é¢˜ï¼Œè¿™é‡Œä»¥ç™¾åº¦çš„å¤§æ¨¡å‹ä¸ºä¾‹ã€‚</p><p>ä½¿ç”¨è¯¥åµŒå…¥æ¨¡å‹éœ€è¦ API å¯†é’¥ã€‚æ‚¨å¯ä»¥é€šè¿‡ <a href="https://console.bce.baidu.com/qianfan/ais/console/applicationConsole/application" target="_blank" rel="noreferrer">https://console.bce.baidu.com/qianfan/ais/console/applicationConsole/application</a> åˆ›å»ºåº”ç”¨æ³¨å†Œè·å– API_KEY å’Œ SECRET_KEYã€‚</p><p>è¯·å°†è·å–çš„APIå¯†é’¥è®¾ç½®ä¸ºåä¸º BAIDU_API_KEY çš„ç¯å¢ƒå˜é‡ï¼Œå¹¶å°†æ‚¨çš„å¯†é’¥è®¾ç½®ä¸ºåä¸ºBAIDU_SECRET_KEY çš„ç¯å¢ƒå˜é‡ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// æ‚¨éœ€è¦å®‰è£…è¯¥ @langchain/community åŒ…ï¼š</span></span>
<span class="line"><span style="color:#E1E4E8;">yarn add @langchain</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">community</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// æ‚¨éœ€è¦å®‰è£…è¯¥ @langchain/community åŒ…ï¼š</span></span>
<span class="line"><span style="color:#24292E;">yarn add @langchain</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">community</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { ChatBaiduWenxin } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@langchain/community/chat_models/baiduwenxin&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { HumanMessage } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@langchain/core/messages&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;dotenv/config&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ernieTurbo</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ChatBaiduWenxin</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    modelName: p<wbr>rocess.env.</span><span style="color:#79B8FF;">BAIDU_MODEL_NAME</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">messages</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">HumanMessage</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;è®²ä¸€ä¸ªç¬‘è¯&quot;</span><span style="color:#E1E4E8;">)];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> ernieTurbo.</span><span style="color:#B392F0;">invoke</span><span style="color:#E1E4E8;">(messages);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(res);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { ChatBaiduWenxin } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@langchain/community/chat_models/baiduwenxin&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { HumanMessage } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@langchain/core/messages&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;dotenv/config&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ernieTurbo</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ChatBaiduWenxin</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    modelName: p<wbr>rocess.env.</span><span style="color:#005CC5;">BAIDU_MODEL_NAME</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">messages</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HumanMessage</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;è®²ä¸€ä¸ªç¬‘è¯&quot;</span><span style="color:#24292E;">)];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> ernieTurbo.</span><span style="color:#6F42C1;">invoke</span><span style="color:#24292E;">(messages);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(res);</span></span></code></pre></div><p><img src="`+e+'" alt="è¾“å‡ºç»“æœ"></p><p>âš ï¸æ³¨æ„: å¦‚æœå‡ºç° API è°ƒç”¨æ¬¡æ•°æœ‰æ‰€é™åˆ¶ï¼Œéœ€è¦åœ¨ <a href="https://console.bce.baidu.com/qianfan/ais/console/onlineService" target="_blank" rel="noreferrer">https://console.bce.baidu.com/qianfan/ais/console/onlineService</a> å¼€é€šå¯¹åº”çš„æ¨¡å‹æœåŠ¡ã€‚</p><h2 id="lcel-æœ‰ä»€ä¹ˆä¼˜åŠ¿" tabindex="-1">LCEL æœ‰ä»€ä¹ˆä¼˜åŠ¿ <a class="header-anchor" href="#lcel-æœ‰ä»€ä¹ˆä¼˜åŠ¿" aria-label="Permalink to &quot;LCEL æœ‰ä»€ä¹ˆä¼˜åŠ¿&quot;">â€‹</a></h2><p>LCEL ä»åº•å±‚è®¾è®¡çš„ç›®æ ‡å°±æ˜¯æ”¯æŒ <strong>ä»åŸå‹åˆ°ç”Ÿäº§</strong> å®Œæ•´æµç¨‹ä¸éœ€è¦ä¿®æ”¹ä»»ä½•ä»£ç ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨å†™çš„ä»»ä½•åŸå‹ä»£ç ä¸éœ€è¦å¤ªå¤šçš„æ”¹å˜å°±èƒ½æ”¯æŒç”Ÿäº§çº§åˆ«çš„å„ç§ç‰¹æ€§ï¼ˆæ¯”å¦‚å¹¶è¡Œã€steaming ç­‰ï¼‰ï¼Œå…·ä½“æ¥è¯´ä¼šæœ‰è¿™äº›ä¼˜åŠ¿ï¼š</p><ul><li>å¹¶è¡Œ: åªè¦æ˜¯æ•´ä¸ª chain ä¸­æœ‰å¯ä»¥å¹¶è¡Œçš„æ­¥éª¤å°±ä¼šè‡ªåŠ¨çš„å¹¶è¡Œï¼Œæ¥å‡å°‘ä½¿ç”¨æ—¶çš„å»¶è¿Ÿã€‚</li><li>è‡ªåŠ¨çš„é‡è¯•å’Œ fallback: å¤§éƒ¨åˆ† chain çš„ç»„æˆéƒ¨åˆ†éƒ½æœ‰è‡ªåŠ¨çš„é‡è¯•ï¼ˆæ¯”å¦‚å› ä¸ºç½‘ç»œåŸå› çš„å¤±è´¥ï¼‰å’Œå›é€€æœºåˆ¶ï¼Œæ¥è§£å†³å¾ˆå¤šè¯·æ±‚çš„å‡ºé”™é—®é¢˜ã€‚</li><li>å¯¹ chain ä¸­é—´ç»“æœçš„è®¿é—®ï¼Œåœ¨æ—§çš„å†™æ³•ä¸­å¾ˆéš¾è®¿é—®ä¸­é—´çš„ç»“æœï¼Œè€Œ LCEL ä¸­å¯ä»¥æ–¹ä¾¿çš„é€šè¿‡è®¿é—®ä¸­é—´ç»“æœæ¥è¿›è¡Œè°ƒè¯•å’Œè®°å½•ã€‚</li><li>LCEL ä¼šè‡ªåŠ¨æ”¯æŒ LangSimith è¿›è¡Œå¯è§†åŒ–å’Œè®°å½•ã€‚</li></ul><p>ä¸€æ¡ Chain ç»„æˆçš„æ¯ä¸ªæ¨¡å—éƒ½æ˜¯ç»§æ‰¿è‡ª Runnable è¿™ä¸ªæ¥å£ï¼Œè€Œä¸€æ¡ Chain ä¹Ÿæ˜¯ç»§æ‰¿è‡ªè¿™ä¸ªæ¥å£ï¼Œæ‰€ä»¥ä¸€æ¡ Chain ä¹Ÿå¯ä»¥å¾ˆè‡ªç„¶çš„æˆä¸ºå¦ä¸€ä¸ª Chain çš„ä¸€ä¸ªæ¨¡å—ã€‚</p><p>ä»»æ„çš„ Runnable å¯¹è±¡ï¼Œéƒ½æœ‰å‡ ä¸ªå¸¸ç”¨çš„æ ‡å‡†è°ƒç”¨æ¥å£:</p><ul><li>invoke åŸºç¡€è°ƒç”¨</li><li>batch æ‰¹é‡è°ƒç”¨</li><li>stream æµå¼è¿”å›ç»“æœ</li><li>streamLog æµå¼è¿”å›ç»“æœï¼Œå¹¶è¿”å›ä¸­é—´çš„è¿è¡Œç»“æœ</li></ul><h1 id="å‚è€ƒæ–‡ç« " tabindex="-1">å‚è€ƒæ–‡ç«  <a class="header-anchor" href="#å‚è€ƒæ–‡ç« " aria-label="Permalink to &quot;å‚è€ƒæ–‡ç« &quot;">â€‹</a></h1><ul><li><a href="https://juejin.cn/post/7359082665276440627" target="_blank" rel="noreferrer">https://juejin.cn/post/7359082665276440627</a></li><li><a href="https://js.langchain.com/v0.2/docs/how_to/" target="_blank" rel="noreferrer">https://js.langchain.com/v0.2/docs/how_to/</a></li><li><a href="https://platform.openai.com/docs/quickstart?context=node" target="_blank" rel="noreferrer">https://platform.openai.com/docs/quickstart?context=node</a></li><li><a href="https://js.langchain.com/v0.2/docs/integrations/text_embedding/baidu_qianfan/" target="_blank" rel="noreferrer">https://js.langchain.com/v0.2/docs/integrations/text_embedding/baidu_qianfan/</a></li><li><a href="https://js.langchain.com/v0.2/docs/integrations/chat/openai" target="_blank" rel="noreferrer">https://js.langchain.com/v0.2/docs/integrations/chat/openai</a></li></ul>',44),r=[c];function i(E,y,h,d,u,g){return a(),n("div",null,r)}const b=s(t,[["render",i]]);export{F as __pageData,b as default};
